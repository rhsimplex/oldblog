---
published: true
title: Spectrm Text Classification Challenge
layout: post
---
[Spectrm](http://www.spectrm.de/) posted a [fun hiring challenge](https://github.com/cod3licious/spectrm-challenge) involving text classification.  I gave it a shot and managed an 8% recall rate: not so bad considering there are as many classes as there are examples.  Apparently what I came up with is a crude implementation of an [inverse document frequency](https://en.wikipedia.org/wiki/Tf%E2%80%93idf) model.

![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX0AAAEACAYAAABfxaZOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAALEgAACxIB0t1+/AAAHItJREFUeJzt3V+oHcd9B/DvN5ENSnxxpVBJIDmWilzLLgE1UPdBLbWp%0AsZ1CLTu0xmkekhpDwE0TSKGJAkVK/5C4kEKh+CVxgxrsGsXg2IViy8LGkEBw0tixEsmKTH0VR9hX%0AbuUSBfQg1dOHs6d3dbXn7J7dmZ3fzHw/cDhXq3P2zM7O/nZ2ZnaWzjmIiEgZ3hM7ASIiMh4FfRGR%0Agijoi4gUREFfRKQgCvoiIgVR0BcRKUhr0Ce5jeRzJH9C8ijJz1TLN5A8TPIEyWdIXl37zj6SJ0ke%0AJ3lbyA0QEZHu2DZOn+QWAFuccy+TvArAfwDYC+BPAfy3c+7vSX4ewAbn3BdI3gjgEQC/BWAbgCMA%0ArnO6IUBEJLrWmr5z7i3n3MvV378EcByTYL4XwMHqYwcB3FX9fSeAx5xzF51zywBOArjJc7pFRKSH%0Ahdr0SW4HsBvA9wBsds6tAJMTA4BN1ce2Anij9rXT1TIREYmsc9CvmnYeB/DZqsa/trlGzTciIsat%0A6/IhkuswCfjfdM49WS1eIbnZObdStfufqZafBnBN7evbqmVr16mThIhID8459v1ua0cuAJD8FwD/%0A5Zz7XG3ZgwDOOucenNGR+9uYNOs8i4aO3EnQP9A33Q3WV+/nPa4zBdPz9rMAbvG83ose1xdL33Lx%0APPzmZ8mUl8MsVe/nqvcDg4J+a02f5B4AHwdwlORLmDTjfBHAgwAOkbwPwCkA9wCAc+4YyUMAjgG4%0AAOCBcUbulBbsp0IF5hwCPtDxYlaCUN77ca79Iwto3SvOue8CeO+M/751xne+DODLA9JVM01iWxDq%0A+rmh3wltzCuWjdX72RF+K5Y+B8w6+Ltvsc8Vk8Vy2Ufq6Q9t7bG+HmMc97ojNxvbYycgMztiJyAj%0A22MnQGoSuP7qWlvoU6uwWBPpe6bvE6RyruEPcRHABz2ua4zvWBb7BGq1f2rtsT4rHPu98ksg6ItI%0AWLk0J81iYbu65PEVuLzTtu07/VMiIl6lFEhTSGPq5uXxtKyMc+WtoC8SxPQgt9q0IPHtrN5fG/VX%0AFfSLdm31fipqKvKWS8BP6crFp5An7bXBfpzROwr6RVOwl658B76mtmuLxtzuce41UtAXCW5P9f7d%0AqKmwxXqwDyX+divoiwQXKtiX2uQiQyjoJ0sHvGjfp8PO3GC6I1dEpCCJ1fRVu12lPEhDiNEfOg4s%0A+3V3NwDgp3yitjR+DX8qsaCvQh7XOEPK8hKizOo4sOzSYG+PmndkAQr4IqkrPOivQ3IXOyIiAxQe%0A9C8i3UtlnbD8quen8rYsVvb3OGkwsKWam0QWEaoT8+KMv1OjTt7FjZFXXfbLOPvMQNBfZEPtjHWN%0Ar9SDutTt7kr5Y5Od/WIg6M/SdGZUsJ/Q1ZFInsJfqRXepi8iUhbDNX3VZGfLMW/UdCddjVlWfF1V%0Ad63Bhz+2DQf9adKuqN4VDPKzhNVZB0vbv+pw7W+MstJ2Yll0/9nZz4aD/sU175Kf+NPMxqNy7Zfv%0Ak2jbiSXd/Wc46IuIdJVuEB5bQh25Oj9JqtZjtblA0nNr9cpDQpF0kTN5au2lGoKZt9L6K1LR9ZGN%0AR0InpEG4zuqEgv4iUgugmnp3GI38KYuv8m25TylcWU6oeUe6szin0NaA6z4PBfySjFG+N1Wv/GRa%0A05duNlbvZxv+z3eT02mP6xIBwjaLngm03vhU0xcRKYhq+kVrquFPWWseEllLZbQP1fRFxJil9o9I%0Abwr6ydLYb8mV5VE16VPzTrI0WiUPu6r3V6OmQsqRUdAfMnbX0rh2jTkvi4K9jMtw0B9zFjsLwX5K%0AwV4ss3b3eNe7amXKcNCfFixftXBLtXkfrG+P9fRJP2Pvz7ZypGC/KMNBf8pXIcsp+FirbTWxnr7Q%0AdNLzoyn/5t1U6NsYx9q4ZUWjd0RECpJATX+q7YybS82qS0du6tsoMsQYNfypRY81+1fhCdX0uzxb%0A0nZmd6PJw/qzdN9CLuXRiq43bMWux/bZ5+OWlYSCvowr9sHTx9gny3k3yK1D3DzMbYbIc+iWpyme%0AaMctKyke2QGth2rZUykePGOz2AQ3PaQtzhK5hGGjbXJ97sS4v6+a/iUU8P2JXdMt1bSpYGPbByOw%0ANryyzCY4HZUSSHkHky1jdnZKShKq6Yc4P+3C6twnIlO6SvFL+WlJQnsiRM1xyLwnVtoDxT/tU7+U%0An5a01vRJPkxyheQrtWX7Sf6c5A+r1x21/9tH8iTJ4yRvC5Xw+MpsDxSRtHVp3vkGgNsblv+Dc+7D%0A1etpACB5A4B7ANwA4CMAHiJJb6kVEZFBWoO+c+47AN5p+K+mYL4XwGPOuYvOuWUAJwHcNCiFIiLi%0AzZCO3E+TfJnk10leXS3bCuCN2mdOV8ska+qoE0lF3yP1IQB/7ZxzJP8WwFcB3L/4ap6v/b0dwI6e%0AyZG41LcxrtQGEaSWXmteB7DsbW29gr5z7u3aP78G4N+qv08DuKb2f9uqZTPc0ufnRQqXWvC0Ngd/%0Aanbg0grxC4PW1rV5h6i14ZPcUvu/jwL4cfX3UwDuJXklyR0AdgJ4cVAKi9B1ojAfzSipNsMsoX3S%0Ara6TckneNLJuntYIQPJRADcD+ADJnwHYD+AWkrsBvIvJdcenAMA5d4zkIQDHAFwA8IBzzoVJek66%0ATv/goyCnejB0uYXf2m3+U3qkn025XRF0w1gxmaQDDsz5RJk7RERkvgNwzvUeCm94GoYhl2gaTSJW%0AqBwOo2PZN8NBfwi16Yn4sRH9Z+z0EbDnHcshTwbznpUQyjgnt0yDvoiINNF1k0hQXa846w/wmdas%0AfU2PPKR/rCkN05lp2yYsDH21HXL9MZ6tMU7rhIJ+L4s8/Fgd0tJFPcjMC/YWHrzdZXZaC+lMzdAn%0Ai3WjoN/LIoU5dsHvWiuLZWf1/lrUVKSj74O3B1raP3k/93cd1xe73KdonCG9CvpZW4LdYD81L9hP%0AO9L0GEs/etS+WQ/2WPz7Yk7hQT/3ppfUbwZSsPerRzl3X/KfjKxthPVHVWr0jgljDw3rq/A6QnJy%0AH+Mectv65l3XgN+07nHiQM4logMrNfwLsRPQkZX8km5y319Dt29e86HvvFs7FUfT+se5si086FuR%0A+8Epl8u9abGNhe0fs/lwGuzjb7ead0RECmKspq/RGgJYqA2Fl/O2dZHr9tdvsmsSf7uNBX0FewEs%0AHBjDlXDiWlRbQLSkbwW0z/aNW1aMBf0+dHCJzGflGKkHxJBp8rHuUCen+Psigzb9ITNqxphJL0Uh%0Ah/7lOqzQ0kyvk7R81Z2JnZCakFOnW8r7tZrSNm56EzvafJ8l553Nb63ej3j6rZSFLJChC3uO/USL%0AHgeTz/8FNwVJzfhiBfT4tXQfEqvpj3FGnNYijkABPwfnkVfABxY/DgzXfP9of+wULMBwPi4gsaA/%0Ahjx2rJTjb1zC0208HmKah1ybDP1QzhQjj0tTqZs0Qf7VH+8BEHqOnJTKTwppbBOuWTLToG+lgIaa%0AU3zWvNvztjt2XnS1E8By9XcqaY6lan58vN4MWS8DPo8D7YtxhWuSVPOOiEhBMq3pW6mV+E7HdHcl%0A3IbbaujDVMa6yov5ZKiuV3RWjoM6K1fh5TIQ9FO6Sy+2tgPF54GU0uPu6u2fa9M8Haboe4x6zLxJ%0AZb808ZH2nE8c4bfNQNBXwPen1DbceWXI0g1JvkxPcndX7492/F5KJ/J5ctiGWcJvm9r0s6Lhprm7%0Ay12P1XsPHkX3gA+obAigoC+SlG/zROwkSOIU9EVETFvC6pO3hjPQpi8iE2sfqScC+C4PquknRbOC%0Atkv5FvyqT+Zj+yevRqluW4k2Vq8+wpVjlaCkaKRTuww6K/913pQK1rcv5+GUizo74Lvh8k81fRGR%0AgiRa01dtQnKUw5WcjknrEgj6TQFeBUusyvGhLXK5MSuefn8rgaCvAC8pUbAPb9o5OqTNfKihcWmR%0Au6P9xsAEgr6IRblMaTAG31c/MYO9LxcRa4iugr5ElPJke4sE/Duq96dDJGQGSyelVPdxaHHux1DQ%0Al4hCBAOLnfwx7q2wtP1iiYK+ZMb39NJD17kOwBMe0iJlKGJqZRGrcpyi2uKVUIlmNb9pamUREfEo%0AoaCvixJJgd8ZEf3TMxdsiLcPEgr6DZm0NGtSKpFYzkGzZPrQd8IxVQ7bJBT0G5ybNzFV7mLMJmm5%0ABit56XtFoquYNpmfFnPutIqxTWPXYC3ceSkTml4iF5kH/RyDfUkU7O3wHexzrpDNE3+7Mw/6i7J0%0AF6PYNz18prVgteV3V+pxFn+7W9v0ST5McoXkK7VlG0geJnmC5DMkr6793z6SJ0keJ3lbqISHEX+H%0ASEqm7c4+Om9V/1qlvqOQunTkfgPA7WuWfQHAEefc9QCeA7APAEjeCOAeADcA+AiAh0jSX3IljpQf%0AQZgKVThW6YoppNag75z7DoB31izeC+Bg9fdBAHdVf98J4DHn3EXn3DKAkwBu8pNU8W9r9WpT2thu%0AneTSo33WVd8hm5uccysA4Jx7C8CmavlWAG/UPnca3aKKiIiMwNep0fX72vO1v7cD2FH7d/xebnt8%0AD2E87Wk9uVGZS0/O++x1AMve1tY36K+Q3OycWyG5BcCZavlpANfUPrcNcyPLLXN+YtGd6OMksYRw%0A7Yk+0pfjEMY4D5IQnzZhNQSosubfddVrmqcvDFpb1+YdVq+ppwB8svr7EwCerC2/l+SVJHcA2Ang%0AxUEp7MxHu3PXwNPnXNmWvlLbJDVtwWJizM3f5kzt79L6f8bgN09bowzJRwHcDOADJH8GYD+ArwD4%0AFsn7AJzCZMQOnHPHSB4CcAzABQAPOOdamn5SfHpSiEI95oGi2tjUARy45N2+lI4VlTOL2BqTQ/0w%0A6ZDMgSYi6cj9ZHMAzrneQ+FLbE+Q/3dt9X4qaipE/Mo12PuhoF+0sYN9ajUwq+kNnS6r210CPS5R%0AspJaELGa3tDpsrrdXaV60hpn7q+059MXEZGFqKY/mlRrH6nTfQB+pFR+U0hjk3HSraDfS5/LsFQL%0AYuoU7P0EbOvlN6WTUlwK+r2oYElIvgJYqEBoMcBaSottatOXRDXdmbpr9FSE4esOzFB3x/Zdr695%0A8ku9e90PBX1JVNOdqa+OnorxpRzsfDW1aaqHIRT0TSupRlPStg5hPdhpP1qnvWNazAO8bU4k3+26%0A1oOZdKP9aJ2CvszQNrGXr4P7jur96QHrsNixKGVIr+wp6Jswzp14l5s+1Czmw1Sagv2iB1I6B5xY%0AMh0MMGTm0vTKntr0RUQKopq+CbFqC1Yfl5he7UliGPqku5SeTeCPavrB5TCaoc82dPnO/n7JkQSM%0AUeZzvts6XNxIPRplIlabfld90jbnOxuqYP/Ol2Z8wEdbq/iVXodluxDb5OtY1tTKC7JUQLukwUI6%0AR9QY7D9UvS8j7xpcqlKaa6rr8Z/6Y0/7yTTo28/4/C1aWz8aKiFSnBSO/3hX9xm16a9H83wsOUlp%0AG8+jPeDvB7Cxeg2RQ7+J+Ge5XMQ7MVnNkR5KaP/NaHcBAOrNPE2X5E1XC033FqRQs0td7CbT1Kcz%0Aj51/qzKq6Vvls7ZxDsPbu33NdOjBUn30TtMkWk1XC6dhd6hpzhad5Mx3BSV+sBzGziRxCvrB2dnZ%0AEzE7STdVr8q5WaN3JH2h5vCXoRT0RUQKkkDQt9wZY4HVzt21++0PAZypXpYN7VSWMCxdLY/NbwxU%0ANB1sZ/X+WqTft9SBXe94rQ7SZ6p2+9vbmnKmwfas/2QtJPbv585Oh+a4pk916/OgH795Reec1xV2%0A/mHSAQei/LbEsAnj1PKtnDxEQjkA5xz7fttw847VZotFrb00K/XiynfA3zlj+dnqdWv1kjjWwU+z%0AhJp3fTOcm5aaLeaZTh8w647StZdmpV3WhtLWnHZklFTILHqimlWGg34qxpw+oN5mXmrbqIgMYbh5%0AJ5SULhfXprV+s5KV8f+/FzsBGUulnAJpHVdlKzDoWwmWXaSQ1hci/W7b0Mprq1fKhuz7sQNwCmV1%0ALcsnqnBpKzDoi4iUK/Jpbj1md9iqzVrm+UXL/58aJRWLaev090nHzapZccZyHoVLW+Sa/rwROile%0ALmZunaXHG6ZYNo4i7nMDrDZlhJbKSMBxqHlHuruoCdLSluKJMiTLbfp1ftOpoB9cKgXrcu66A3DX%0AHYidDElSCmU+RGtCiLmb/KYzhT0Tia/b+dOtXfHkgcC/0PZgjFQekF5C/9Oi25hzXsxjf/oPBf2Z%0A7O+89LUFhnnBfgl2HqBeQoArYRtjG+e5uWrekURZCfjS3RLCNXem24y6apwTq4J+1jo+GvERS6Ny%0AJD1b2z8CYHKiDjUqT6P9ukr91ChztdWG7568fVyjcmQIPbM4Jarpi4gUJKGa/iKdHKmM+vBt0REW%0AT4RKSAE2Qp39faQ80imPuJJQ0F+kkKS9U/pL8UBKlQJ+PymX0Tziipp3BvsQVudUaWJkVMGf75+8%0ApCAxy56BMm9e09MBw+8zPSNXRCQpEZ+RS3KZ5I9IvkTyxWrZBpKHSZ4g+QzJq4f8xjiM1MY9+7L7%0An46fzG/bZU/sBIhRQ5t33gVws3PuN51zN1XLvgDgiHPuegDPAdg38Dda+AjYeY7x3cdf6fjJmNvu%0AY/8tofM9CUHTYcl3YycgIbnt+/mGBn02rGMvgIPV3wcB3DXwNxrUd1KeAbscPvbfOegO3SY+ToaS%0Am6FB3wF4luT3Sd5fLdvsnFsBAOfcWwA2DfyNBm2BQoU9vNxqRzlWHnQy7CbHfT/b0KN2j3PuTZK/%0ACuAwyROYnAjq5vQUP4/JeeddANsB7BiYnKkrPK1HZivnIBGJ63UAy97WNijoO+ferN7fJvltADcB%0AWCG52Tm3QnILgDOz13ALxppZTkQkTTtwaYX4hUFr6928Q/J9JK+q/n4/gNsweRbcUwA+WX3sEwCe%0AnL+mEAH/F2h/hmrK1o7tFRHb7DQ5D6npbwbwxGS8PdYBeMQ5d5jkDwAcInkfJk+nvsdPEnU1sOoC%0AVmc21GRXtulK1j8LMWHRNAzpW/G7vb2DvnPudQC7G5afBXDrkERdSgfMqmkN/wL6B/v1yOV28jSU%0AVn7HCMgW8nTMNPj9LQPTMPxJ7AQk5Hz1GlIILnhKS65CPOM0t5FO85Q1EiZFBkriowHWmUuhC1Fr%0AyiVvQhkykdqsphzluV9djwsLzUD2GAj6vuSyg+sPZE99W0qj/WWreSeX/THtAPZzz0UCQb9rIcpl%0AB48xZW8uJ8hUlJTfvrbRYp7Fmk/f7w12CQT9pp1usUAMMfYID+v5ltv+1cN/FjfGvl80v/vuF1sj%0AuAx05IqIyFgSqOk3sXPW9CO37Rmq1PxIpYafy5XYWPltK59U0xe5xNb2jxRPwzJTpqAvcgnd4RzP%0AvPsZEm2UMEhB3wQV6LyVdHNW3aLbPe8KIsSVxZj7pel5uHHm4zFQEm31bMdR+vZbELKduus6767e%0AnwiQhhj65uVYMWH6G2P0UTT1H8R51oGBoL9IRufSgST2hCxTXcttLsF+qLHvtC0rnhho3mk77+jR%0AiOHYme61uxSbSprKbYrbMcvYZUhxYAgDpa6UO20tSvFRermUh1y2AwhTjnRVH0oCNf2U6WEnUrIh%0AVzO51+bjxT0DQV9ERMZioJqd89k8lTssxZ8hzRI5NGmo/62beNNCGwj6IqnzFehyCJI5bMMQvoab%0AhstHBX2Rwa6o3ksPeJJCGVDQFxlsXjOebj6UWeJMpa2gLzKTj3ZVBXyZpSnYh+/X0eidoDRkM23q%0AjJSxhS9zCvpBafSO6GK6WdMEZKWJkwcK+sXwcdt/bgHsjoZlmzz/Ri5XCr6njTgPVYri5IGCvohI%0AQYwF/Y3Va1w3uDtxg7uz+leul53z2gq71uBmff/a6pVa3j3dsOzMgPUNnXjM8iRsPtqa62XD8rbm%0AzViun43yq8f577V/hbrcsny35dA0nfKSivTNmnis6763WDZ8qh9buW+rXcaCft2YQTKX34gtzrjj%0AeFIO5pYrIbOkmGYf/G634aBf2o71KdbBUUqwn0q5jKaY9hTT7IPf7TbWph+b4XMggO7toPPaX1Nq%0AcxcR36xHuZFZr0n4SF9ptXEpT6nNQN0o6EtidEDbZmH/qGzMk2nQt1DwZLimjuFc9mlqZTTFTuvU%0A8ngcmQZ97eQ85NwUFaqMhgp0KR1TCvbzqCNXRKQgmdb0d1Xvr0ZNhSxCtTM/Ssu/pnJTWh4sJtOg%0APw32CiTp0D4qi69jc973LR7/8W9gzDToT1na2SKyqtS74OP3U6lNX0TENL+T02Ua9DWD33DKPxEb%0A/D5NK9Eju62tzuJlXWqUh+mz2KYtsSUQ9NU7LzkaIyDrOAln6P5bt8B3i5llc6q+oaq5SJMUy8W8%0AtE4f2TjkgS4SVshRR75/61IJBP26lA5qGU9u5ULBXsIN7cy0I1dERJokVtMXESlBuPH8wWr6JO8g%0A+SrJn5L8fKjfEbFt7HrVvOHKquNJoKBP8j0A/gnA7QB+A8DHSO6a/62I1u+fvJL2euwEZMZXfo7d%0A3zBvTHesvo8xyuYY9+b4/o2l6jWuUDX9mwCcdM6dcs5dAPAYgL2Bfmu481+avEYR6uSyHGi9pVqO%0AnYCMLI/wG35vYBrnN85Vr3GFCvpbAbxR+/fPq2WCkCcX3Ymcjji1vHyp7HeVQS5ND5zxz5j25DZ0%0AMWdN5TX+DIzpSq3sr8Pq/h43doUK+qcBfLD2723VsjUOBPr5Ur0QOwGZUX76o7y0gs45/ysl3wvg%0ABIDfB/AmgBcBfMw5d9z7j4mISGdBavrOuf8l+WkAhzHpN3hYAV9EJL4gNX0REbEpyjQMunFrGJLL%0AJH9E8iWSL1bLNpA8TPIEyWdIXh07nVaRfJjkCslXastm5h/JfSRPkjxO8rY4qbZrRn7uJ/lzkj+s%0AXnfU/k/5OQPJbSSfI/kTkkdJfqZa7q98OudGfWFyonkNwLUArgDwMoBdY6cj5ReA/wSwYc2yBwH8%0AZfX35wF8JXY6rb4A/A6A3QBeacs/ADcCeAmTptDtVdll7G2w9JqRn/sBfK7hszcoP+fm5RYAu6u/%0Ar8Kkb3SXz/IZo6af1o1bNhGXX6XtBXCw+vsggLtGTVFCnHPfAfDOmsWz8u9OAI855y4655YBnMSk%0ADEtlRn4Ck3K61l4oP2dyzr3lnHu5+vuXAI5jMvrRW/mMEfR149ZwDsCzJL9P8v5q2Wbn3AowKThY%0AnZRdutk0I//WltfTUHnt6tMkXyb59VpzhPKzI5LbMbmC+h5mH98L56emVk7THufchwH8AYA/I/m7%0AmJwI6tRDP4zyb5iHAPyac243gLcAfDVyepJC8ioAjwP4bFXj93Z8xwj6HW/cklmcc29W728D+DYm%0Al3MrJDcDAMkt0JM4FjUr/04DuKb2OZXXDpxzb7uq0RnA17Da5KD8bEFyHSYB/5vOuSerxd7KZ4yg%0A/30AO0leS/JKAPcCeCpCOpJE8n1VLQAk3w/gNgBHMcnDT1Yf+wSAJxtXIFPEpW3Os/LvKQD3kryS%0A5A4AOzG52VAudUl+VoFp6qMAflz9rfxs988Ajjnn/rG2zFv5HH3uHacbt4baDOAJkg6T/feIc+4w%0AyR8AOETyPgCnANwTM5GWkXwUwM0APkDyZ5iMNPkKgG+tzT/n3DGShwAcA3ABwAO1GqxgZn7eQnI3%0AgHcxmWbzU4Dysw3JPQA+DuAoyZcwacb5Iiajdy47vvvkp27OEhEpiDpyRUQKoqAvIlIQBX0RkYIo%0A6IuIFERBX0SkIAr6IiIFUdAXESmIgr6ISEH+D2s4Afhj1krbAAAAAElFTkSuQmCC%0A)

_Predictions over the first 200 samples.  Note the encouraging band along the diagonal!_

You can see [my solution on Github](https://github.com/rhsimplex/spectrm-challenge-ryan) and run it yourself if you like.  I also included a [Jupyter notebook](https://github.com/rhsimplex/spectrm-challenge-ryan/blob/master/Word%20Frequency%20Model.ipynb) which explains how it all works.